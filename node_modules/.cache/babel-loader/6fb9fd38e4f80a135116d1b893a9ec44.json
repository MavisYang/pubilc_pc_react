{"ast":null,"code":"import _classCallCheck from \"/Users/mavis/gitHub/pubilc_pc_react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mavis/gitHub/pubilc_pc_react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mavis/gitHub/pubilc_pc_react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mavis/gitHub/pubilc_pc_react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mavis/gitHub/pubilc_pc_react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mavis/gitHub/pubilc_pc_react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mavis/gitHub/pubilc_pc_react/src/components/shareComponents/message/Messages.js\";\nimport React, { Component } from 'react';\nimport \"./message.css\";\nvar setTimeOuttimer;\n\nvar Messages =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Messages, _Component);\n\n  function Messages(props) {\n    var _this2;\n\n    _classCallCheck(this, Messages);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Messages).call(this, props));\n\n    _this2.getMessage = function (res) {\n      var _this = _assertThisInitialized(_assertThisInitialized(_this2));\n\n      clearTimeout(setTimeOuttimer);\n\n      _this.setState({\n        showStatus: true,\n        showText: res.newValue.msg,\n        reqStatus: res.newValue.status\n      });\n\n      if (res.newValue.status !== 202) {\n        setTimeOuttimer = setTimeout(function () {\n          _this.setState({\n            showStatus: false,\n            reqStatus: false,\n            showText: null\n          });\n        }, res.newValue.timer || 2000);\n      }\n    };\n\n    _this2.state = {\n      showStatus: false,\n      showText: null,\n      reqStatus: false\n    };\n    return _this2;\n  }\n\n  _createClass(Messages, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      window.addEventListener(\"messages\", function (res) {\n        _this3.getMessage(res);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this4 = this;\n\n      window.removeEventListener(\"messages\", function (res) {\n        _this4.getMessage(res);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          showStatus = _this$state.showStatus,\n          showText = _this$state.showText,\n          reqStatus = _this$state.reqStatus;\n      return React.createElement(\"div\", {\n        className: \"messages-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, showStatus ? React.createElement(\"div\", {\n        className: reqStatus === 200 ? \"messages-main-content success\" : reqStatus === 201 ? \"messages-main-content warning\" : reqStatus === 202 ? \"messages-main-content loading\" : reqStatus === 203 ? \"messages-main-content error\" : \"messages-main-content other\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, reqStatus === 202 ? React.createElement(\"img\", {\n        src: \"/images/loading.svg\",\n        className: \"messages-main-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }) : React.createElement(\"span\", {\n        className: reqStatus === 200 ? \"messages-main-icon success\" : reqStatus === 201 ? \"messages-main-icon warning\" : reqStatus === 202 ? \"messages-main-icon loading\" : reqStatus === 203 ? \"messages-main-icon error\" : \"messages-main-icon other\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, showText)) : \"\");\n    }\n  }]);\n\n  return Messages;\n}(Component);\n/**\n * =>timer参数非必传，默认2s;\n * success sendEvent(\"messages\",{msg:\"\",status:200,timer:2000})\n * worning sendEvent(\"messages\",{msg:\"\",status:201,timer:2000})\n * loading sendEvent(\"messages\",{msg:\"\",status:202,timer:9999})\n * error   sendEvent(\"messages\",{msg:\"\",status:203,timer:2000})\n */\n\n\nexport { Messages as default };","map":{"version":3,"sources":["/Users/mavis/gitHub/pubilc_pc_react/src/components/shareComponents/message/Messages.js"],"names":["React","Component","setTimeOuttimer","Messages","props","getMessage","res","_this","clearTimeout","setState","showStatus","showText","newValue","msg","reqStatus","status","setTimeout","timer","state","window","addEventListener","removeEventListener"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,eAAP;AAEA,IAAIC,eAAJ;;IAEqBC,Q;;;;;AACjB,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,mFAAMA,KAAN;;AADe,WAQnBC,UARmB,GAQN,UAACC,GAAD,EAAS;AAClB,UAAIC,KAAK,yDAAT;;AACAC,MAAAA,YAAY,CAACN,eAAD,CAAZ;;AACAK,MAAAA,KAAK,CAACE,QAAN,CAAe;AACXC,QAAAA,UAAU,EAAE,IADD;AAEXC,QAAAA,QAAQ,EAAEL,GAAG,CAACM,QAAJ,CAAaC,GAFZ;AAGXC,QAAAA,SAAS,EAAER,GAAG,CAACM,QAAJ,CAAaG;AAHb,OAAf;;AAKA,UAAIT,GAAG,CAACM,QAAJ,CAAaG,MAAb,KAAwB,GAA5B,EAAiC;AAC7Bb,QAAAA,eAAe,GAAGc,UAAU,CAAC,YAAM;AAC/BT,UAAAA,KAAK,CAACE,QAAN,CAAe;AACXC,YAAAA,UAAU,EAAE,KADD;AAEXI,YAAAA,SAAS,EAAE,KAFA;AAGXH,YAAAA,QAAQ,EAAE;AAHC,WAAf;AAKH,SAN2B,EAMzBL,GAAG,CAACM,QAAJ,CAAaK,KAAb,IAAsB,IANG,CAA5B;AAOH;AACJ,KAzBkB;;AAEf,WAAKC,KAAL,GAAa;AACTR,MAAAA,UAAU,EAAE,KADH;AAETC,MAAAA,QAAQ,EAAE,IAFD;AAGTG,MAAAA,SAAS,EAAE;AAHF,KAAb;AAFe;AAOlB;;;;wCAmBmB;AAAA;;AAChBK,MAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoC,UAAAd,GAAG,EAAI;AAAE,QAAA,MAAI,CAACD,UAAL,CAAgBC,GAAhB;AAAsB,OAAnE;AACH;;;2CAEsB;AAAA;;AACnBa,MAAAA,MAAM,CAACE,mBAAP,CAA2B,UAA3B,EAAuC,UAAAf,GAAG,EAAI;AAAE,QAAA,MAAI,CAACD,UAAL,CAAgBC,GAAhB;AAAsB,OAAtE;AACH;;;6BAEQ;AAAA,wBACuC,KAAKY,KAD5C;AAAA,UACGR,UADH,eACGA,UADH;AAAA,UACeC,QADf,eACeA,QADf;AAAA,UACyBG,SADzB,eACyBA,SADzB;AAEL,aAAQ;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACJJ,UAAU,GAAG;AACT,QAAA,SAAS,EACLI,SAAS,KAAK,GAAd,GACI,+BADJ,GAEKA,SAAS,KAAK,GAAd,GAAoB,+BAApB,GACIA,SAAS,KAAK,GAAd,GAAoB,+BAApB,GACIA,SAAS,KAAK,GAAd,GAAoB,6BAApB,GACG,6BAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAWLA,SAAS,KAAK,GAAd,GACI;AAAK,QAAA,GAAG,EAAC,qBAAT;AACI,QAAA,SAAS,EAAC,oBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,GAKI;AACI,QAAA,SAAS,EACLA,SAAS,KAAK,GAAd,GACI,4BADJ,GAEKA,SAAS,KAAK,GAAd,GAAoB,4BAApB,GACIA,SAAS,KAAK,GAAd,GAAoB,4BAApB,GACIA,SAAS,KAAK,GAAd,GAAoB,0BAApB,GACG,0BAPxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBC,EA2BT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOH,QAAP,CA3BS,CAAH,GA4BD,EA7BL,CAAR;AA+BH;;;;EApEiCV,S;AA0EtC;;;;;;;;;SA1EqBE,Q","sourcesContent":["import React, { Component } from 'react'\nimport \"./message.css\"\n\nlet setTimeOuttimer;\n\nexport default class Messages extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showStatus: false,\n            showText: null,\n            reqStatus: false\n        }\n    }\n    getMessage = (res) => {\n        let _this = this;\n        clearTimeout(setTimeOuttimer);\n        _this.setState({\n            showStatus: true,\n            showText: res.newValue.msg,\n            reqStatus: res.newValue.status\n        })\n        if (res.newValue.status !== 202) {\n            setTimeOuttimer = setTimeout(() => {\n                _this.setState({\n                    showStatus: false,\n                    reqStatus: false,\n                    showText: null\n                })\n            }, res.newValue.timer || 2000);\n        }\n    }\n    componentDidMount() {\n        window.addEventListener(\"messages\", res => { this.getMessage(res) })\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"messages\", res => { this.getMessage(res) })\n    }\n\n    render() {\n        const { showStatus, showText, reqStatus } = this.state;\n        return (<div className=\"messages-main\">{\n            showStatus ? <div\n                className={\n                    reqStatus === 200 ?\n                        \"messages-main-content success\" :\n                        (reqStatus === 201 ? \"messages-main-content warning\" :\n                            (reqStatus === 202 ? \"messages-main-content loading\" :\n                                (reqStatus === 203 ? \"messages-main-content error\" :\n                                    \"messages-main-content other\")))\n                }\n            >\n                {\n                    reqStatus === 202 ?\n                        <img src=\"/images/loading.svg\"\n                            className=\"messages-main-icon\"\n                        />\n                        :\n                        <span\n                            className={\n                                reqStatus === 200 ?\n                                    \"messages-main-icon success\" :\n                                    (reqStatus === 201 ? \"messages-main-icon warning\" :\n                                        (reqStatus === 202 ? \"messages-main-icon loading\" :\n                                            (reqStatus === 203 ? \"messages-main-icon error\" :\n                                                \"messages-main-icon other\")))\n                            }\n                        ></span>\n                }\n                <span>{showText}</span>\n            </div> : \"\"\n        }</div>)\n    }\n}\n\n\n\n\n/**\n * =>timer参数非必传，默认2s;\n * success sendEvent(\"messages\",{msg:\"\",status:200,timer:2000})\n * worning sendEvent(\"messages\",{msg:\"\",status:201,timer:2000})\n * loading sendEvent(\"messages\",{msg:\"\",status:202,timer:9999})\n * error   sendEvent(\"messages\",{msg:\"\",status:203,timer:2000})\n */"]},"metadata":{},"sourceType":"module"}