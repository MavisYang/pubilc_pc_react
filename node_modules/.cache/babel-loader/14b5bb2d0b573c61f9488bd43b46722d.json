{"ast":null,"code":"import _objectSpread from \"/Users/mavis/react-project/gpet/static/gpetmg/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/mavis/react-project/gpet/static/gpetmg/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mavis/react-project/gpet/static/gpetmg/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mavis/react-project/gpet/static/gpetmg/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mavis/react-project/gpet/static/gpetmg/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mavis/react-project/gpet/static/gpetmg/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mavis/react-project/gpet/static/gpetmg/src/components/sideNavi/SideNavi.js\";\nimport React, { Component } from 'react';\nimport './sidenavi.scss';\nvar naviInfo = [{\n  id: '1',\n  \"code\": \"review\",\n  \"name\": \"打款审核\",\n  \"orderSeq\": 1,\n  \"target\": \"/review\",\n  \"status\": 1,\n  \"selected\": null,\n  \"children\": null\n}, {\n  id: '2',\n  \"code\": \"feedback\",\n  \"name\": \"问题反馈\",\n  \"orderSeq\": 4,\n  \"target\": \"/feedback\",\n  \"handleRight\": \"HR_CUSTOMIZED_ROBOT;HR_TRIAL_GROUP\",\n  \"status\": 1,\n  \"selected\": null,\n  \"children\": null\n}];\nvar dataMap = {\n  home: 'icon-home',\n  delivery: 'icon-delivery',\n  dashboard: 'icon-data',\n  finance: 'icon-wealth',\n  account: 'icon-account'\n};\n\nvar SubNavi = function SubNavi(_ref) {\n  var navi = _ref.navi,\n      subNavi = _ref.subNavi,\n      expand = _ref.expand,\n      history = _ref.history;\n  return React.createElement(\"div\", {\n    className: \"subNavi\",\n    style: {\n      height: expand ? subNavi.length * 36 + 'px' : 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, subNavi.map(function (v, i) {\n    return React.createElement(\"div\", {\n      key: i,\n      className: \"subNaviItem \".concat(history.location.pathname.includes(v.target) ? 'active' : ''),\n      onClick: function onClick() {\n        history.push(navi.target + v.target);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, v.name);\n  }));\n};\n\nvar NaviItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NaviItem, _Component);\n\n  function NaviItem(props) {\n    var _this;\n\n    _classCallCheck(this, NaviItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NaviItem).call(this, props));\n\n    _this.clickHandle = function () {\n      var _this$props = _this.props,\n          navi = _this$props.navi,\n          expandHandle = _this$props.expandHandle,\n          history = _this$props.history;\n\n      if (navi.children == null) {\n        history.push(navi.target);\n      }\n\n      expandHandle(navi.id);\n    };\n\n    return _this;\n  }\n\n  _createClass(NaviItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          navi = _this$props2.navi,\n          history = _this$props2.history;\n      var activeFlag = history.location.pathname.includes(navi.target);\n      return React.createElement(\"div\", {\n        className: \"naviItem \".concat(navi.children ? 'secondNavi' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"naviText \".concat(activeFlag ? 'active' : '', \" \").concat(navi.selected ? 'expand' : ''),\n        onClick: this.clickHandle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"navi-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, navi.name)), navi.children ? React.createElement(SubNavi, {\n        navi: navi,\n        subNavi: navi.children,\n        expand: navi.selected,\n        history: history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }) : '');\n    }\n  }]);\n\n  return NaviItem;\n}(Component);\n\nvar SideNavi =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(SideNavi, _Component2);\n\n  function SideNavi(props) {\n    var _this2;\n\n    _classCallCheck(this, SideNavi);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(SideNavi).call(this, props));\n\n    _this2.expandHandle = function (id) {\n      var naviInfo = _this2.state.naviInfo;\n      naviInfo = naviInfo.map(function (v, i) {\n        return v.id == id ? _objectSpread({}, v, {\n          selected: !v.selected\n        }) : _objectSpread({}, v, {\n          selected: false\n        });\n      });\n\n      _this2.setState({\n        naviInfo: naviInfo\n      });\n    };\n\n    _this2.state = {\n      naviInfo: naviInfo\n    };\n    return _this2;\n  }\n\n  _createClass(SideNavi, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pathname = this.props.history.location.pathname;\n      var naviInfo = this.state.naviInfo;\n      naviInfo = naviInfo.map(function (v, i) {\n        return _objectSpread({}, v, {\n          selected: pathname.includes(v.target)\n        });\n      });\n      this.setState({\n        naviInfo: naviInfo\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var naviInfo = this.state.naviInfo;\n      var history = this.props.history;\n      return React.createElement(\"div\", {\n        className: \"naviBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"http://img.zcool.cn/community/01ee0d5544f1380000019ae9895b3f.jpg@1280w_1l_2o_100sh.jpg\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"\\u7FA4\\u5BA0\\u7BA1\\u7406\\u7CFB\\u7EDF\")), React.createElement(\"div\", {\n        className: \"navi\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, naviInfo.map(function (navi, i) {\n        return React.createElement(NaviItem, {\n          key: i,\n          navi: navi,\n          expandHandle: _this3.expandHandle,\n          history: history,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return SideNavi;\n}(Component);\n\nexport { SideNavi as default };","map":{"version":3,"sources":["/Users/mavis/react-project/gpet/static/gpetmg/src/components/sideNavi/SideNavi.js"],"names":["React","Component","naviInfo","id","dataMap","home","delivery","dashboard","finance","account","SubNavi","navi","subNavi","expand","history","height","length","map","v","i","location","pathname","includes","target","push","name","NaviItem","props","clickHandle","expandHandle","children","activeFlag","selected","SideNavi","state","setState"],"mappings":"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","sourcesContent":["\nimport React,{Component} from 'react'\nimport './sidenavi.scss'\nlet naviInfo = [\n\n    {\n        id: '1',\n        \"code\": \"review\",\n        \"name\": \"打款审核\",\n        \"orderSeq\": 1,\n        \"target\": \"/review\",\n        \"status\": 1,\n        \"selected\": null,\n        \"children\": null\n    }, {\n        id: '2',\n        \"code\": \"feedback\",\n        \"name\": \"问题反馈\",\n        \"orderSeq\": 4,\n        \"target\": \"/feedback\",\n        \"handleRight\": \"HR_CUSTOMIZED_ROBOT;HR_TRIAL_GROUP\",\n        \"status\": 1,\n        \"selected\": null,\n        \"children\": null\n    }\n]\n\nconst dataMap = {\n    home: 'icon-home',\n    delivery: 'icon-delivery',\n    dashboard: 'icon-data',\n    finance: 'icon-wealth',\n    account: 'icon-account'\n}\nconst SubNavi = ({ navi, subNavi, expand, history }) => {\n    return (\n        <div className='subNavi' style={{ height: expand ? subNavi.length * 36 + 'px' : 0 }}>\n            {\n                subNavi.map((v, i) => <div key={i}\n                                           className={`subNaviItem ${history.location.pathname.includes(v.target)?'active':''}`}\n                                           onClick={() => { history.push(navi.target + v.target) }}>{v.name}</div>)\n            }\n        </div>\n    )\n}\nclass NaviItem extends Component {\n    constructor(props) {\n        super(props)\n    }\n    clickHandle = () => {\n        const { navi, expandHandle, history } = this.props\n        if (navi.children == null) {\n            history.push(navi.target)\n        }\n        expandHandle(navi.id)\n    }\n    render() {\n        const { navi, history } = this.props\n        const activeFlag = history.location.pathname.includes(navi.target)\n        return (\n            <div className={`naviItem ${navi.children?'secondNavi':''}`}>\n                <div className={`naviText ${activeFlag?'active':''} ${navi.selected?'expand':''}`} onClick={this.clickHandle}>\n                    {/*<span className={`navi-icon ${dataMap[navi.code]}`}/>*/}\n                    <span className={`navi-icon`}/>\n                    <span>{navi.name}</span>\n                </div>\n                {navi.children ? <SubNavi navi={navi} subNavi={navi.children} expand={navi.selected} history={history} /> : ''}\n            </div>\n        )\n    }\n}\n\nexport default class SideNavi extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            naviInfo: naviInfo\n        }\n    }\n    componentDidMount() {\n        const pathname = this.props.history.location.pathname\n\n        let { naviInfo } = this.state\n        naviInfo = naviInfo.map((v, i) => {\n            return {\n                ...v,\n                selected: pathname.includes(v.target)\n            }\n        })\n        this.setState({ naviInfo })\n    }\n    expandHandle = (id) => {\n        let { naviInfo } = this.state\n        naviInfo = naviInfo.map((v, i) => {\n            return v.id == id ? {\n                ...v,\n                selected: !v.selected\n            } : {\n                ...v,\n                selected: false\n            }\n        })\n        this.setState({ naviInfo })\n\n    }\n    render(){\n        const {naviInfo} =this.state\n        const {history} =this.props\n        return <div className='naviBox'>\n            <div className=\"avatar\">\n                <img src=\"http://img.zcool.cn/community/01ee0d5544f1380000019ae9895b3f.jpg@1280w_1l_2o_100sh.jpg\" alt=\"\" />\n                <p>群宠管理系统</p>\n            </div>\n            <div className=\"navi\">\n                {\n                    naviInfo.map((navi, i) => {\n                        return <NaviItem key={i} navi={navi} expandHandle={this.expandHandle} history={history} />\n                    })\n                }\n            </div>\n        </div>\n    }\n}"]},"metadata":{},"sourceType":"module"}